From owens@yoyo.geophys.washington.edu Fri Jan 19 09:35 PST 1996
Return-Path: <owens@yoyo.geophys.washington.edu>
Received: from kootenay by bugaboo.pgc.emr.ca (5.0/SMI-SVR4)
	id AA24207; Fri, 19 Jan 1996 09:35:56 -0800
Received: from cnsdbs.seismo.emr.ca by kootenay (5.0/SMI-SVR4)
	id AA26104; Fri, 19 Jan 1996 09:42:12 +0800
Received: from yoyo.geophys.washington.edu by cnsdbs.seismo.emr.ca (4.1/SMI-4.1-DNI)
	id AA27167; Fri, 19 Jan 96 17:36:00 GMT
Received: by yoyo.geophys.washington.edu (SMI-8.6/SMI-SVR4)
	id JAA14806; Fri, 19 Jan 1996 09:37:02 -0800
Date: Fri, 19 Jan 1996 09:37:02 -0800
From: owens@yoyo.geophys.washington.edu (Tom Owens)
Message-Id: <199601191737.JAA14806@yoyo.geophys.washington.edu>
To: cassidy@seismo.emr.ca
Subject: Ray3d Session
Content-Type: text
Content-Length: 5130
Status: RO
X-Lines: 154

 ray tracer for dipping structures

Specify structure file: test.mod

List the site model? (y or n) n

STRIKE AND DIP ARE FOR THE BOTTOM OF THE LAYER.  IN THIS CASE, THE 
LAYER 1-LAYER 2 BOUNDARY IS DIPPING 10 DEGREES DUE EAST (DIP DIRECTION IS
MEASURED CLOCKWISE FROM STRIKE DIRECTION).  THIS BOUNDARY IS REFERED TO AS
INTERFACE 2 IN LATER QUESTIONS.

  file: test.mod   model:  lyr1         3 layers 


 lyr     vp      vs     rho      h     qp      qs     strike    dip
   1     6.00    3.50    2.70   10.00    0.      0.      0.     10.00
   2     7.00    4.00    2.90   20.00    0.      0.      0.      0.  
   3     8.00    4.50    3.20    0.      0.      0.      0.      0.  

Specify ray param. for incident wave: .04

Back azimuth of incident ray: 0.0

P-wave (y or n) ? y

IF "NO", S-WAVE TRAVEL TIMES CAN BE CALCULATED, BUT NO AMPLITUDES
CAN BE CALCULATED FOR S-WAVES AT PRESENT.  THIS IS FAIRLY TRIVIAL TO
IMPLEMENT, BUT HAS NOT BEEN NEEDED TO DATE IN OUR RESEARCH.  IT REQUIRES
KNOWLEDGE OF THE SV/SH POLARIZATION ANGLE

Calculate any amplitudes (y or n) ? y 

IF ANSWER IS NO, JUST TRAVEL TIMES WILL BE CALCULATED AND SUMMARIZED
IN RAY3D.OUT

Pp and Ps only (y or n) ? n

IF YES, ONLY TWO PHASES WILL BE CALCULTED FOR EACH LAYER, OTHERWISE EACH LAYER
WILL HAVE THE DIRECT P, THE CONVERTED PS PHASE, AND THE 8 "PRIMARY" MULTIPLE
CONVERTED PHASES CALCULATED.

Incident p amplitude =  10.

THIS QUESTION IS LARGELY AN ARTIFACT OF THE DE-BUGGING PROCESS, BUT IT
COMES IN HANDY IF MATCHING OUTPUT FROM ANOTHER SYNTHETIC CODE

your layer ray tracing parameters are: 

 interface  ppps  mormul 
       2     F     F
       3     F     F

THE ABOVE OUTPUT IS A SUMMARY OF PARAMETERS TO DATE.  PPPS IS TRUE IF ONLY PP
AND PS PHASES ARE TO BE CALCULATED.  MORMUL IS DESCRIBED BELOW
AN ANSWER OF "N" BELOW ALLOWS FOR A REVIEW OF THESE DEFAULTS

OK ? (y or n) n 

enter the # of interfaces to trace from (i2)
 1

AN INTERFACE IS THE TOP OF A LAYER, SO INTERFACE 2 IS THE BOTTOM OF
LAYER 1 - TOP OF LAYER 2 BOUNDARY

 enter the interface numbers (40i2)
 2

Change PpPs options (y or n) ? n

Calculate extra multiples ? (y or n) y 

ALL MULTIPLES (STANDARD AND "EXTRA") ARE FREE SURFACE MULTIPLES, I.E.
"INTERFACE-FREE SURFACE-INTERFACE" MULTIPLES
NO "INTERFACE A-INTERFACE B-INTERFACE A" MULTIPLES CAN BE INCLUDED

enter interface numbers for extra multiple calculations (40i2)
 2

SAME INTERFACE DEFINITION, INTERFACES SPECIFIED HERE REFER TO INTERFACES
THAT NEED TO HAVE MORE FREE SURFACE MULTIPLES INCLUDED.  USUALLY, THESE
ARE HIGH VELOCITY CONTRAST NEAR-SURFACE LAYERS.

Calculate extra mults for all rays ?  n

enter only interfaces which have rays that need extra mults tacked on
 2

THE ABOVE TWO QUESTIONS ALLOW YOU TO CUSTOMIZE THE RAY SET SLIGHTLY
NORMALLY, THERE IS NO NEED TO CALCULATE EXTRA MULTIPLES FOR ALL RAYS
THAT INTERACT WITH AN INTERFACE, JUST THOSE RAYS THAT REFLECT AND CONVERT
AT THE INTERFACE.  I USUALLY ANSWER "NO" TO THE ABOVE QUESTION AND THEN
SPECIFY THE SAME INTERFACE NUMBERS AS ENTERED TWO QUESTIONS ABOVE.  THIS IS
THE MOST CONFUSING PART OF THE PROCESS FOR NEW USERS.  RAY3D.OUT LISTING
SHOULD HELP CLARIFY THE PROCESS.  IF NOT, PLEASE FEEL FREE TO CONTACT ME.

 your layer ray tracing parameters are: 

 interface  ppps  mormul 
       2     F     T
       3     F     F

NOW, MORMUL IS TRUE FOR INTERFACE 2 SINCE EXTRA MULTIPLES ARE BEING CALCULATED
FOR THAT INTERFACE.

OK ? (y or n) y 

RAY3D IS TRAINED TO FLAG ANY CRITICAL REFLECTIONS.  BELOW, THE
PARTICULAR PHASE GENERATING A WARNING MESSAGE IS
AN S-TO-P HEAD WAVE.  SINCE RAY3D CANNOT HANDLE HEAD WAVES, IT SIMPLY IGNORES
THIS PHASE AND ALL OTHERS GENERATED FROM THIS PHASE.  VB IS THE VELOCITY OF
THE RAY BEFORE INTERACTION WITH THE INTERFACE, VA IS THE VELOCITY OF THE RAY
AFTER INTERACTION.  THIS SHOULD ALLOW IDENTIFICATION OF THE LAYER RESPONSIBLE.
FOR SEVERE MODELS, THESE MESSAGES CAN BE QUITE ABUNDANT.

For vb => va of 3.500 =>  6.000 and qb = 0.8028
    ===>  An internal s-to-p reflection is critical 

Create ray3d.amps ? y

THE MESSAGE BELOW CAN OCCUR WITHOUT THE CRITICAL REFLECTION MESSAGE.  RAY3D IS
TRAINED TO HANDLE PHASE SHIFTS, SO THIS MESSAGE IS FOR INFROMATION ONLY, IT
DOES NOT INDICATE A PROBLEM.

 phase shifted arrivals exist

THE NEXT SERIES OF QUESTIONS SET UP PARAMETERS FOR GENERATION OF SYNTHETICS
AND SPIKE SERIES FILES.  THESE ARE OUTPUT IN LLNL'S SAC FORMAT AT PRESENT,
SUBROUTINE SACIO SHOULD BE CHANGED IF YOU DON'T HAVE SAC.

Save this spike ? y

Sampling rate (sec): 0.1 

Signal duration (secs): 50.

First arrival delay: 10.

Spike output file: tst

OUTPUT FILES ARE NAMED USING DEFAULT SUFFIXES WITH THE ROOT NAME INDICATED IN
THE ABOVE QUESTION.  FORTRAN-77 CONCATENATION FEATURES ARE HEAVILY EMPLOYED

Spike name: tst

THE ABOVE NAME IS USED IN THE SAC FILE HEADERS

Convolve w/ source function ? n

AN ANSWER OF YES TO THE ABOVE QUESTION WILL ALLOW FOR INCLUSION OF A NUMBER OF
DIFFERENT SOURCE FUNCTIONS.  I USUALLY JUST USE THE SPIKE SERIES BECAUSE I
THEN USE PROGRAM PWAVEQ TO DECONVOLVE THE SYNTHETICS BEFORE COMPARISON WITH
ANY REAL DATA.

Trace another in the same model ? (y or n) n

